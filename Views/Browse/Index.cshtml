@* @page *@
@model EmilsAuto.Controllers.BrowseViewModel;
@{
	ViewData["Title"] = "Find bil";
}

<div class="text-center">
	<h1 class="display-4">Udvalg af biler</h1>
</div>

<section class="newscontent">
	@foreach (Classes.Car car in Model.Cars)
	{
		TimeSpan span = car.ListingDate.Subtract(DateTime.UtcNow);
		<a class="flashnews" asp-action="SelectedCar" asp-controller="Browse" asp-route-id="@car.ProductId">
			<span>Lagt op @car.ListingDate.ToString("dd-MM-yyyy") </span>
			<h2>@car.Model.Brand.Name @car.Model.ModelYear @car.Model.FuelType</h2>
		</a>
	}
</section>

<ul class="pagination">
	<li><a asp-action="Index" asp-controller="Browse" asp-route-id="1">&laquo;</a></li>
	@for (int i = Model.pagination.CurrentPage; i < Model.pagination.CurrentPage+5; i++)
	{
		int pageNum = i;
		if (Model.pagination.CurrentPage > 1) { pageNum--; }
		if (pageNum > Model.pagination.maxPages){ break; }
		<li><a asp-action="Index" asp-controller="Browse" asp-route-id="@pageNum">@pageNum</a></li>
	}
	<li><a asp-action="Index" asp-controller="Browse" asp-route-id="@Model.pagination.maxPages">&raquo;</a></li>
</ul>